# Пример реализации API Платрон
## Описание
В этом репозитории представлены некоторые примеры реализации API Платрон.
Документацию по API можно найти по следующей ссылке https://front.platron.ru/docs/api/

## Инструкции по запуску
Для запуска примеров необходимо поместить папку на сервер, чтобы DOCUMENT_ROOT сервера уазывал на папку с примерами.
Для этого можно использовать локальный сервер доступный в PHP.
Например, для того чтобы запустить примеры используя локальный сервер, необходимо выполнить следующие команды:
```bash
git clone https://github.com/Platron/platron_merch_reference.git platron_implementation
cd platron_implementation
php -S localhost:8000
```
Выполнив эти команды будет скачан код примеров и запущен локальный PHP сервер.
Для запуска примера необходимо в адресной строке браузера указать
```
http://localhost:8000/имя_скрипта_примера.php
```

## Примеры реализации
### init.php
Пример формирования запроса для редиректа пользователя на страницу оплаты. При открытии этого файла на сервере происходит формирование ссылки для оплаты и редирект пользователя по этой ссылке. Описание параметров для инициализации платежа https://front.platron.ru/docs/api/initialize_payment/

### donation_button.php
Пример отображения формы для пожертвования. При открытии этого файла отображается форма для ввода описания платежа и суммы платежа. После ввода данных и нажатия кнопки будет сформирована ссылка для оплаты и пользователь будет отправлен по этой ссылке. Описание параметров для инициализации платежа https://front.platron.ru/docs/api/initialize_payment/

### check.php
Пример скрипта для обработки запроса check со стороны Платрона. Если в этот скрипт передать правильные параметры, то будет отображен ответ в виде XML. Описание запроса на check https://front.platron.ru/docs/api/checking_possibility_payment/

### result.php
Пример скрипта для обработки запроса result со стороны Платрона. Если в этот скрипт передать правильные параметры, то будет отображен ответ в виде XML. Описание запроса на result https://front.platron.ru/docs/api/payment_result/

### payment_ok.php
Пример скрипта на который будет отправлен пользователь в случае удачной оплаты. Описание возврата пользователя на сайт магазина https://front.platron.ru/docs/api/return_site_merchant/

### payment_failure.php
Пример скрипта на который будет отправлен пользователь в случае неудачной оплаты. Описание возврата пользователя на сайт магазина https://front.platron.ru/docs/api/return_site_merchant/
